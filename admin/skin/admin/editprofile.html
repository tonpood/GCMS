<div class=breadcrumbs>
  <ul>
    <li><a class=icon-user href="{BACKURL?module=member&id=0}">{LNG_Users}</a></li>
    <li><span>{LNG_Editing your account}</span></li>
  </ul>
</div>
<section>
  <header><h1 class=icon-profile>{TITLE}</h1></header>
  <form id=setup_frm class=setup_frm method=post action=index.php autocomplete=off>
    <fieldset>
      <legend><span>{LNG_Email}</span></legend>
      <div class=item>
        <label for=register_email>{LNG_Email}</label>
        <span class="g-input icon-email"><input {ADMIN} type=text id=register_email name=register_email maxlength=255 value="{EMAIL}" title="{LNG_The system will send the registration information to this e-mail. Please use real email address}"></span>
        <div class=comment id=result_register_email>{LNG_The system will send the registration information to this e-mail. Please use real email address}</div>
      </div>
    </fieldset>
    <fieldset>
      <legend><span>{LNG_Change your password}</span></legend>
      <div class=item>
        <div class=input-groups>
          <div class=width50>
            <label for=register_password>{LNG_Password}</label>
            <span class="g-input icon-password"><input type=password id=register_password name=register_password maxlength=20 title="{LNG_Passwords must be at least four characters}" data-result=resultPassword></span>
          </div>
          <div class=width50>
            <label for=register_repassword>{LNG_Repassword}</label>
            <span class="g-input icon-password"><input type=password id=register_repassword name=register_repassword maxlength=20 title="{LNG_Enter your password again}" data-result=resultPassword></span>
          </div>
        </div>
        <div class=comment id=resultPassword>{LNG_To change your password, enter your password to match the two inputs} {LNG_Passwords must be at least four characters}</div>
      </div>
    </fieldset>
    <fieldset>
      <legend><span>{LNG_Other} ({LNG_Public})</span></legend>
      <div class=item>
        <label for=register_displayname>{LNG_Displayname}</label>
        <span class="g-input icon-user"><input type=text id=register_displayname name=register_displayname maxlength=50 value="{DISPLAYNAME}" title="{LNG_Name for the show on the site at least 2 characters}"></span>
        <div class=comment id=result_register_displayname>{LNG_Name for the show on the site at least 2 characters}</div>
      </div>
      <div class=item>
        <label for=register_sex>{LNG_Sex}</label>
        <span class="g-input icon-sex"><select name=register_sex id=register_sex title="{LNG_Please choose} {LNG_Sex}">{SEX}</select></span>
      </div>
      <div class=item>
        <div class=usericon><span><img src="{ICON}" alt=usericon id=imgIcon></span></div>
        <label for=icon>{LNG_Avatar}</label>
        <span class="g-input icon-upload"><input type=file class=g-file name=icon id=icon placeholder="{LNG_Avatar}" title="{LNG_Upload a picture of :type resize automatically}" accept="{ACCEPT}" data-preview=imgIcon></span>
        <div class=comment id=result_icon>{LNG_Upload a picture of :type resize automatically}</div>
      </div>
      <div class=item>
        <label for=register_website>{LNG_Website}</label>
        <span class="g-input icon-world"><input type=url name=register_website id=register_website maxlength=255 value="{WEBSITE}" title="{LNG_Your site&#39;s URL (exclude http://, eg www.domain.tld).}"></span>
        <div class=comment id=result_register_website>{LNG_Your site&#39;s URL (exclude http://, eg www.domain.tld).}</div>
      </div>
    </fieldset>
    <fieldset>
      <legend><span>{LNG_Profile}</span></legend>
      <div class=item>
        <div class=input-groups>
          <div class=width33>
            <label for=register_pname>{LNG_Title}</label>
            <span class="g-input icon-user"><input type=text name=register_pname id=register_pname maxlength=50 value="{PNAME}"></span>
          </div>
          <div class=width33>
            <label for=register_fname>{LNG_Name}</label>
            <span class=g-input><input type=text name=register_fname id=register_fname maxlength=50 value="{FNAME}"></span>
          </div>
          <div class=width33>
            <label for=register_lname>{LNG_Surname}</label>
            <span class=g-input><input type=text name=register_lname id=register_lname maxlength=50 value="{LNAME}"></span>
          </div>
        </div>
      </div>
      <div class=item>
        <label for=register_birthday>{LNG_Birthday}</label>
        <span class="g-input icon-calendar"><input type=date name=register_birthday id=register_birthday value="{BIRTHDAY}" title="{LNG_Please choose} {LNG_Birthday}"></span>
      </div>
      <div class=item>
        <label for=register_company>{LNG_Company}</label>
        <span class="g-input icon-address"><input type=text name=register_company id=register_company maxlength=255 value="{COMPANY}" title="{LNG_Your Workplace}"></span>
        <div class=comment id=result_register_company>{LNG_Your Workplace}</div>
      </div>
      <div class=item>
        <div class=input-groups>
          <div class=width50>
            <label for=register_phone1>{LNG_Phone}</label>
            <span class="g-input icon-phone"><input type=text name=register_phone1 id=register_phone1 maxlength=10 value="{PHONE1}" title="{LNG_Please fill in} {LNG_Phone}" pattern="[0-9]+"></span>
            <em id=result_register_phone1></em>
          </div>
          <div class=width50>
            <label for=register_phone2>{LNG_Phone}/{LNG_Fax}</label>
            <span class="g-input icon-print"><input type=text name=register_phone2 id=register_phone2 maxlength=32 value="{PHONE2}" title="{LNG_Please fill in} {LNG_Phone}/{LNG_Fax}"></span>
            <em id=result_register_phone2></em>
          </div>
        </div>
      </div>
      <div class=item>
        <label><input type=checkbox name=register_subscrib id=register_subscrib value=1 {SUBSCRIB} title="{LNG_Receive newletter}">&nbsp;{LNG_Receive newletter}</label>
      </div>
    </fieldset>
    <fieldset>
      <legend><span>{LNG_Address details}</span></legend>
      <div class=item>
        <label for=register_address1>{LNG_Address} 1</label>
        <span class="g-input icon-address"><input type=text name=register_address1 id=register_address1 maxlength=64 value="{ADDRESS1}" title="{LNG_Please fill in} {LNG_Address} 1"></span>
      </div>
      <div class=item>
        <label for=register_address2>{LNG_Address} 2</label>
        <span class="g-input icon-location"><input type=text name=register_address2 id=register_address2 maxlength=64 value="{ADDRESS2}" title="{LNG_Please fill in} {LNG_Address} 2"></span>
      </div>
      <div class=item>
        <div class=input-groups-table>
          <div class=width25>
            <label for=register_provinceID>{LNG_Province}</label>
            <span class="g-input icon-location"><select id=register_provinceID name=register_provinceID title="{LNG_Please choose} {LNG_Province}">{PROVINCEID}</select></span>
          </div>
          <div class=width25>
            <label for=register_province>{LNG_Province}</label>
            <span class="g-input icon-location"><input type=text name=register_province id=register_province maxlength=64 value="{PROVINCE}" title="{LNG_Please fill in} {LNG_Province}"></span>
          </div>
          <div class=width25>
            <label for=register_zipcode>{LNG_Zipcode}</label>
            <span class="g-input icon-location"><input type=number id=register_zipcode name=register_zipcode value="{ZIPCODE}" title="{LNG_Please fill in} {LNG_Zipcode}"></span>
          </div>
          <div class=width50>
            <label for=register_country>{LNG_Country}</label>
            <span class="g-input icon-world"><select id=register_country name=register_country title="{LNG_Please choose} {LNG_Country}">{COUNTRY}</select></span>
          </div>
        </div>
      </div>
    </fieldset>
    <fieldset>
      <legend><span>{LNG_Other}</span></legend>
      <div class=item>
        <label for=register_invite>{LNG_Invitation code}</label>
        <span class="g-input icon-flag"><input type=text readonly id=register_invite value="{INVITE}"></span>
      </div>
      <div class=item>
        <label for=register_status>{LNG_Member status}</label>
        <span class="g-input icon-star0"><select {ADMIN} name=register_status id=register_status title="{LNG_Status of membership, the first item (0) means end users and 1 represents the administrator. (The first two items are the items necessary), you can modify the ability of each member of the modules again.}">{STATUS}</select></span>
        <div class="comment">{LNG_Status of membership, the first item (0) means end users and 1 represents the administrator. (The first two items are the items necessary), you can modify the ability of each member of the modules again.}</div>
      </div>
      <div class=item>
        <label><input type=checkbox name=register_admin_access id=register_admin_access value=1 {ADMIN_ACCESS} title="{LNG_Access to the system administrator.}">&nbsp;{LNG_Access to the system administrator.}</label>
      </div>
    </fieldset>
    <fieldset class=submit>
      <input type=submit class="button large save" value="{LNG_Save}">
      <input type=hidden name=register_id id=register_id value="{ID}">
      {HIDDEN}
    </fieldset>
  </form>
</section>
<script>
  new GForm('setup_frm', 'index.php/index/model/updateprofile/save').onsubmit(doFormSubmit);
  new GValidator('register_email', 'keyup,change', checkEmail, 'index.php/index/model/checker/email', null, 'setup_frm');
  new GValidator('register_password', 'keyup,change', checkPassword);
  new GValidator('register_repassword', 'keyup,change', checkPassword);
  new GValidator('register_displayname', 'keyup,change', checkDisplayname, 'index.php/index/model/checker/displayname', null, 'setup_frm');
  new GValidator('register_phone1', 'keyup,change', checkPhone, 'index.php/index/model/checker/phone', null, 'setup_frm');
  $G('register_birthday').addEvent('change', function () {
    if (this.calendar) {
      var age = new Date().compare(this.value);
      this.calendar.setText(this.calendar.getDateFormat('d M Y') + ' ({LNG_age} ' + age.year + ' {LNG_year}, ' + age.month + ' {LNG_month} ' + age.day + ' {LNG_days})');
    }
  });
  countryChanged('register');
</script>